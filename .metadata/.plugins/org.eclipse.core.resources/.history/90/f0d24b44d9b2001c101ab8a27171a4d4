package ShopTest;

import java.util.List;

import org.openqa.selenium.By;
import org.openqa.selenium.JavascriptExecutor;
import org.openqa.selenium.Keys;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;

public class ShopTest {

	public static void main(String[] args) throws InterruptedException {
		// TODO Auto-generated method stub
		System.setProperty("webdriver.chrome.driver", "D:\\Selenuim\\Download\\chromedriver_win32\\chromedriver.exe");

		WebDriver driver = new ChromeDriver();
		driver.manage().window().maximize();

		// Naviguer sur l'url hhtp://shop.demoqa.com/
		driver.get("https://shop.demoqa.com");

		// Choisir n'importe quel article et le sélectionner
		WebElement Article = driver.findElement(By.xpath("//a[normalize-space()='Tokyo Talkies']"));
		Article.click();
		/*
		 * // Reset WebElement Reset =
		 * driver.findElement(By.xpath("//a[@class='reset_variations']"));
		 * Reset.click(); Thread.sleep(500);
		 */

		// Choisir une option couleur (Color)
		List<WebElement> SelectColor = driver.findElements(By.xpath("//select[@id='color']//option"));
		Thread.sleep(500);
		for (WebElement sc : SelectColor) {
			if (sc.getText().equals("Black")) {
				sc.click();
				return;
			}
		}

		Thread.sleep(2000);
		/*
		 * // Choisir une option taille (Size) //List<WebElement> SelectSize =
		 * driver.findElements(By.xpath("//select[@id='size']//option"));
		 * List<WebElement> SelectSize =
		 * driver.findElements(By.xpath("//table//tbody//tr//following::tr//option"));
		 * 
		 * Thread.sleep(500); for (WebElement ss : SelectSize) { if
		 * (ss.getText().equals("L")) { ss.click(); return; } }
		 * 
		 * Thread.sleep(1000);
		 */

		// to perform Scroll on application using Selenium
		JavascriptExecutor js = (JavascriptExecutor) driver;
		js.executeScript("window.scrollBy(1182,792 )", "");

		// Cliquer sur le bouton "Add to cart"
		/*
		 * WebElement AddtoCart = driver.findElement(By.
		 * cssSelector("button[class='single_add_to_cart_button button alt']"));
		 * Thread.sleep(1000); AddtoCart.click();
		 
		WebElement m = driver.findElement(By.xpath("//button[normalize-space()='Add to cart']"));
		 m.sendKeys(Keys.ENTER);
		//m.click();
		
		 WebElement AddtoCart = (new WebDriverWait(driver, 10000)).until(ExpectedConditions.presenceOfElementLocated(By.xpath("//button[normalize-space()='Add to cart']")));
		 AddtoCart.click();
		  */
		 WebElement WishList = driver.findElement(By.xpath("//div[contains(@class,'summary entry-summary')]//a[@class='add_to_wishlist single_add_to_wishlist']"));
		 WishList.click();
	}

}
